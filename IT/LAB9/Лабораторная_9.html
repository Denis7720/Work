<!DOCTYPE html>
<html>
<meta charset="utf-8">
<head>
	<title>Лабораторная 9</title>
	<script type="text/javascript">

		function setClock() {

			var text = "";
			var openImage = "<IMG SRC=\"" + getPath(location.href) + "dg";
			var closeImage = ".gif\" height = 21 width = 16>";
			var now = new Date();
			var hour = now.getHours();
			var minute = now.getMinutes();
			var seconds = now.getSeconds();
	
			now = null;
			
			var ampm = "";
			if (hour >= 12) {
				hour -= 12;
				ampm = "pm";
			} else {
				ampm = "am";
			}

			hour = (hour == 0) ? 12 : hour;
			
			if (minute < 10) {
				minute = "0" + minute; 
			}
			minute += "";
			hour += "";

			if (seconds < 10) {
				seconds = "0" + seconds;
			}
			seconds += "";
			
			for (var i = 0; i < hour.length; i++) { 	
				text += openImage + hour.charAt(i) + closeImage;
			}

			text += openImage + "c.gif\" height=21 width=9>";
			
			for (var i = 0; i < minute.length; i++) {
				text += openImage + minute.charAt(i) + closeImage;
			}

			text += openImage + "c.gif\" height=21 width=9>";

			for (var i = 0; i < seconds.length; i++) {
				text += openImage + seconds.charAt(i) + closeImage;
			}

			text += openImage + ampm + closeImage;
			document.getElementById('txt').innerHTML = text;
			t = setTimeout('setClock()', 1000);
		}

		function setDate() {
			var text = "";
			var openImage = "<IMG SRC=\"" + getPath(location.href) + "dg";
			var closeImage = ".gif\" height = 21 width = 16>";
			var now = new Date();
			var day = now.getDate();
			var month = now.getMonth();
			var year = now.getFullYear();
			var point = openImage + "p.gif\" height = 21 width = 9>"
			now = null;
			month++;
			day += "";
			month += "";
			year += "";

			for (var i = 0; i < day.length; i++) {
				text += openImage + day.charAt(i) + closeImage;
			}

			text += point;

			for (var i = 0; i < month.length; i++) {
				text += openImage + month.charAt(i) + closeImage;
			}

			text += point;

			for (var i = 0; i < year.length; i++) {
				text += openImage + year.charAt(i) + closeImage;
			}

			document.getElementById('txt2').innerHTML = text;
		}

		function getPath(url) {
			lastSlash = url.lastIndexOf("/");
			return url.substring(0, lastSlash + 1);
		}
	</script>
</head>
<body onload="setClock() ,setDate()">
	<h1 align="center">Графические часы</h1>
	<p align="center">
	<table border="0" align="center">
	<tbody>
	<tr valign="top">
	<td id="txt"></td>
	<td id="txt2"></td>
	</tr>
	</tbody>
	</table>
	</p>
</body>
</html>